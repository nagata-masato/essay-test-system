package database

import (
	"essay-test-backend/internal/domain/entities"

	"gorm.io/gorm"
)

func SeedTestData(db *gorm.DB) error {
	// 既存のテストデータがあるかチェック
	var count int64
	db.Model(&entities.EssayTest{}).Count(&count)
	if count > 0 {
		return nil // 既にデータが存在する場合はスキップ
	}

	tests := []entities.EssayTest{
		{
			ID:           "sns-anonymity",
			Title:        "SNSの匿名性について",
			Description:  "SNSの匿名性が社会に与える影響について考察し、自分の意見を述べる小論文テストです。",
			ReadingTime:  "15分",
			WritingTime:  "60分",
			TotalPoints:  100,
			Difficulty:   "標準",
			Category:     "社会問題",
			Participants: 1247,
			EssayText: `SNSの匿名性について

SNS（ソーシャルネットワーキングサービス）は私たちの生活に欠かせないコミュニケーションツールとなっている。しかし、その匿名性をめぐって様々な議論が展開されている。

SNSの匿名性は、確かに表現の自由を保障し、社会的弱者の声を届ける重要な機能を果たしてきた。政治的な発言や社会批判を行う際に、実名では躊躇してしまうような内容でも、匿名であれば率直に表現できる。また、いじめや差別の被害者、内部告発者などにとって、匿名性は身を守るための盾となる。

一方で、匿名性がもたらす弊害も深刻である。匿名であることをいいことに、他者への誹謗中傷や差別的発言が横行している。実名であれば決して口にしないような暴言を平気で投稿し、相手を深く傷つけるケースが後を絶たない。また、匿名性は責任感の低下を招き、デマや偽情報の拡散にもつながっている。確認もせずに憶測や噂を事実であるかのように拡散し、社会に混乱をもたらすことも少なくない。

さらに、匿名性は社会の分断を助長する側面もある。異なる意見を持つ者同士が建設的な対話を行うのではなく、匿名の陰に隠れて一方的に攻撃し合う構図が生まれやすい。これは民主的な議論の土壌を破壊し、社会の健全な発展を阻害する要因となっている。

こうした状況を踏まえ、私はSNSの匿名性は原則として廃止すべきであると考える。もちろん、弱者保護や表現の自由という観点から、完全な実名制には慎重な検討が必要である。しかし、現在の匿名性がもたらす害悪は、その利益を大きく上回っているのが現実である。

実名制の導入により、発言に対する責任感が生まれ、より建設的で質の高い議論が期待できる。また、誹謗中傷やデマの拡散も大幅に減少するであろう。一方で、真に保護が必要な場合には、厳格な審査の下で例外的に匿名での発言を認める制度を設けることで、弱者保護と社会の健全性の両立を図ることができるはずである。

SNSは今や社会インフラの一部となっている。その健全な発展のためには、匿名性という「自由」の名の下に隠れた無責任な発言を許すのではなく、責任ある発言を促す仕組みづくりが急務である。`,
			ScoringCriteria: entities.ScoringCriteria{
				MainThesis:     "SNSの匿名性は原則として廃止すべき",
				KeyPoints:      []string{"誹謗中傷や差別的発言の横行", "責任感の低下とデマ・偽情報の拡散", "社会の分断を助長", "弱者保護や表現の自由への配慮", "厳格な審査の下での例外的匿名制度"},
				Question2Topic: "SNSの匿名性について、あなた自身の考え",
			},
			Questions: []entities.Question{
				{
					ID:             "sns-q1",
					TestID:         "sns-anonymity",
					Number:         1,
					Title:          "問1: 要約（200字程度）【30点】",
					Description:    "課題文の要旨を200字程度で要約してください。",
					Points:         30,
					CharacterLimit: "200字程度",
				},
				{
					ID:             "sns-q2",
					TestID:         "sns-anonymity",
					Number:         2,
					Title:          "問2: 意見記述（800字以内）【70点】",
					Description:    "課題文の論旨を踏まえ、SNSの匿名性について、あなた自身の考えを800字以内で述べてください。",
					Points:         70,
					CharacterLimit: "800字以内",
				},
			},
		},
		{
			ID:           "ai-society",
			Title:        "AI技術と社会の未来",
			Description:  "人工知能技術の発展が社会に与える影響について論じる小論文テストです。",
			ReadingTime:  "12分",
			WritingTime:  "60分",
			TotalPoints:  100,
			Difficulty:   "やや難",
			Category:     "科学技術",
			Participants: 892,
			EssayText: `AI技術と社会の未来

21世紀に入り、人工知能（AI）技術は急速な発展を遂げ、私たちの社会に大きな変革をもたらしている。機械学習、深層学習、自然言語処理などの技術革新により、AIは人間の知的活動の多くの領域で人間を上回る性能を示すようになった。

AI技術の発展は、まず産業界に革命的な変化をもたらしている。製造業では、AIを活用した自動化により生産効率が大幅に向上し、品質管理も精密化された。金融業界では、AIによるリスク分析や投資判断が人間のアナリストを凌駕する精度を実現している。医療分野においても、画像診断や薬物開発でAIが医師の判断を支援し、より正確で迅速な治療を可能にしている。

しかし、AI技術の急速な普及は、労働市場に深刻な影響を与えている。多くの職種でAIによる自動化が進み、従来人間が担っていた業務が機械に置き換えられつつある。特に、定型的な作業や単純な判断を要する職種では、大規模な雇用の削減が予想される。この技術的失業は、社会格差の拡大や経済的不安定を招く可能性がある。

また、AI技術の発展は、プライバシーや個人の自由に関する新たな課題を提起している。AIシステムは大量のデータを必要とし、個人の行動や嗜好に関する詳細な情報を収集・分析する。この情報の活用は、個人に最適化されたサービスを提供する一方で、監視社会の到来や個人情報の悪用といったリスクも伴う。

さらに、AI技術の軍事利用や自律兵器の開発は、国際安全保障に新たな脅威をもたらしている。AIが戦争の形態を根本的に変える可能性があり、人間の制御を離れた自律的な判断による攻撃は、倫理的にも法的にも重大な問題を提起している。

このような状況を踏まえ、私たちはAI技術の発展を単純に歓迎するのではなく、その社会的影響を慎重に検討し、適切な規制と倫理的ガイドラインを確立する必要がある。技術の恩恵を最大化しつつ、そのリスクを最小化するためには、政府、企業、研究者、そして市民社会が協力して、AI技術の健全な発展を導く枠組みを構築することが不可欠である。

AI技術は確実に私たちの未来を形作る重要な要素となる。その力を人類の福祉向上に活用するか、それとも新たな分裂と対立の源とするかは、今の私たちの選択にかかっている。`,
			ScoringCriteria: entities.ScoringCriteria{
				MainThesis:     "AI技術の発展は社会に大きな変革をもたらすが、適切な規制と倫理的ガイドラインが必要",
				KeyPoints:      []string{"産業界への革命的変化（製造業、金融業、医療分野での効率向上）", "労働市場への深刻な影響（技術的失業、社会格差の拡大）", "プライバシーや個人の自由に関する課題（監視社会、個人情報悪用のリスク）", "軍事利用や自律兵器による国際安全保障への脅威", "政府・企業・研究者・市民社会の協力による健全な発展の必要性"},
				Question2Topic: "AI技術の発展が社会に与える影響について、あなた自身の考え",
			},
			Questions: []entities.Question{
				{
					ID:             "ai-q1",
					TestID:         "ai-society",
					Number:         1,
					Title:          "問1: 要約（200字程度）【30点】",
					Description:    "課題文の要旨を200字程度で要約してください。",
					Points:         30,
					CharacterLimit: "200字程度",
				},
				{
					ID:             "ai-q2",
					TestID:         "ai-society",
					Number:         2,
					Title:          "問2: 意見記述（800字以内）【70点】",
					Description:    "課題文の論旨を踏まえ、AI技術の発展が社会に与える影響について、あなた自身の考えを800字以内で述べてください。",
					Points:         70,
					CharacterLimit: "800字以内",
				},
			},
		},
		{
			ID:           "environment",
			Title:        "環境問題と持続可能な社会",
			Description:  "地球環境問題の現状と持続可能な社会の実現について考える小論文テストです。",
			ReadingTime:  "18分",
			WritingTime:  "60分",
			TotalPoints:  100,
			Difficulty:   "標準",
			Category:     "環境",
			Participants: 1156,
			EssayText: `環境問題と持続可能な社会

地球環境問題は、21世紀の人類が直面する最も深刻な課題の一つである。気候変動、生物多様性の喪失、海洋汚染、森林破壊など、様々な環境問題が相互に関連し合いながら、地球全体の生態系に深刻な影響を与えている。

気候変動は、その中でも最も緊急性の高い問題である。産業革命以降の化石燃料の大量消費により、大気中の二酸化炭素濃度は急激に上昇し、地球の平均気温は着実に上昇している。この温暖化は、極地の氷河融解、海面上昇、異常気象の頻発を引き起こし、農業生産や水資源、人間の居住環境に深刻な影響を与えている。

生物多様性の喪失も深刻な問題である。人間活動による生息地の破壊、汚染、外来種の侵入などにより、多くの生物種が絶滅の危機に瀕している。生物多様性は生態系の安定性を支える基盤であり、その喪失は食料生産、医薬品開発、気候調節など、人間社会の基盤を脅かす可能性がある。

海洋汚染、特にプラスチック汚染は、海洋生態系に深刻な影響を与えている。毎年数百万トンのプラスチック廃棄物が海洋に流入し、海洋生物の生存を脅かすとともに、食物連鎖を通じて人間の健康にも影響を及ぼしている。マイクロプラスチックの問題は、その影響の全容がまだ解明されていないだけに、より深刻な懸念を抱かせる。

これらの環境問題の根本的な原因は、現代社会の大量生産・大量消費・大量廃棄という経済システムにある。経済成長を最優先とする価値観の下で、自然資源の過剰な採取と環境への負荷が続けられてきた。この線形経済モデルは、有限な地球資源の制約の中では持続不可能である。

持続可能な社会の実現には、循環経済への転換が不可欠である。資源の効率的な利用、廃棄物の削減、リサイクルの促進により、経済活動と環境保護の両立を図る必要がある。また、再生可能エネルギーの普及、省エネルギー技術の開発、持続可能な農業の推進など、あらゆる分野での技術革新と制度改革が求められる。

しかし、技術的な解決策だけでは不十分である。私たち一人一人の意識と行動の変革が必要である。消費行動の見直し、環境に配慮したライフスタイルの採用、地域コミュニティでの環境保護活動への参加など、市民レベルでの取り組みが重要である。

国際協力も欠かせない要素である。環境問題は国境を越えた地球規模の課題であり、各国が協力して取り組まなければ解決できない。パリ協定のような国際的な枠組みを強化し、先進国と途上国が共に責任を分担しながら、持続可能な発展を目指す必要がある。

持続可能な社会の実現は、現世代の責任であると同時に、将来世代への義務でもある。私たちは今、地球環境の未来を決定する重要な岐路に立っている。`,
			ScoringCriteria: entities.ScoringCriteria{
				MainThesis:     "地球環境問題は深刻で、持続可能な社会実現には循環経済への転換と国際協力が必要",
				KeyPoints:      []string{"気候変動（温暖化、異常気象、海面上昇）", "生物多様性の喪失（生息地破壊、絶滅危機）", "海洋汚染（プラスチック汚染、マイクロプラスチック）", "大量生産・大量消費・大量廃棄の経済システムの問題", "循環経済への転換、再生可能エネルギー、国際協力の必要性"},
				Question2Topic: "持続可能な社会の実現に向けて、あなた自身の考え",
			},
			Questions: []entities.Question{
				{
					ID:             "env-q1",
					TestID:         "environment",
					Number:         1,
					Title:          "問1: 要約（200字程度）【30点】",
					Description:    "課題文の要旨を200字程度で要約してください。",
					Points:         30,
					CharacterLimit: "200字程度",
				},
				{
					ID:             "env-q2",
					TestID:         "environment",
					Number:         2,
					Title:          "問2: 意見記述（800字以内）【70点】",
					Description:    "課題文の論旨を踏まえ、持続可能な社会の実現に向けて、あなた自身の考えを800字以内で述べてください。",
					Points:         70,
					CharacterLimit: "800字以内",
				},
			},
		},
	}

	for _, test := range tests {
		if err := db.Create(&test).Error; err != nil {
			return err
		}
	}

	return nil
} 